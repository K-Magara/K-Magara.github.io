<!DOCTYPE html>
<html lang="ja">
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QZV05PBY1K"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-QZV05PBY1K');
</script>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>NCVCの作者のページ --ニュース（2021/02/01）--</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="NCVCはフリーのCAMソフトです．NCVC is a Free CAM software.">
<meta name="keywords" content="NCVC, NC Viewer and Converter, Free, CAM">
<link rel="stylesheet" href="../css/style.css">
<script src="../js/openclose.js"></script>
<script src="../js/fixmenu_pagetop.js"></script>
<script src="../js/ddmenu_min.js"></script>
</head>

<body>

<div id="container">

<header>
<h1 id="logo"><a href="../index.html"><img src="../images/logo.png" alt="NCVCの作者のページ"></a></h1>
<!--PC用（901px以上端末）メニュー-->
<nav id="menubar">
<ul>
<li class="ddmenu-title">Contents
	<ul class="ddmenu">
	<li><a href="../index.html#download">ダウンロード</a></li>
	<li><a href="https://zawazawa.jp/b5almsd0ra1jvhw3/" target="_blank">NCVCサポート掲示板（仮）</a></li>
	<li><a href="../index.html#other">その他コンテンツ</a></li>
	</ul>
</li>
<li><a href="../recruit.html">Recruit</a></li>
<li><a href="../contact.html">Contact</a></li>
</ul>
</nav>
<!--小さい端末用（900px以下端末）メニュー-->
<nav id="menubar-s">
<ul>
<li id="menubar_hdr2" class="close">Contents
	<ul id="menubar-s2">
	<li><a href="../index.html#download">ダウンロード</a></li>
	<li><a href="https://zawazawa.jp/b5almsd0ra1jvhw3/" target="_blank">NCVCサポート掲示板（仮）</a></li>
	<li><a href="../index.html#other">その他コンテンツ</a></li>
	</ul>
</li>
<li><a href="../recruit.html">Recruit</a></li>
<li><a href="../contact.html">Contact</a></li>
</ul>
</nav>
<!--
<ul class="icon">
<li><a href="#"><img src="../images/icon_facebook.png" alt="Facebook"></a></li>
<li><a href="#"><img src="../images/icon_twitter.png" alt="Twitter"></a></li>
<li><a href="#"><img src="../images/icon_instagram.png" alt="Instagram"></a></li>
<li><a href="#"><img src="../images/icon_youtube.png" alt="TouTube"></a></li>
</ul>
-->
</header>

<div id="contents">

<section>

<h2>サーバ移転について<span>2021/02/01</span></h2>
<p>　20年以上運営してきた自前のサーバから，ついに卒業することになりました．
”学内にサーバを置かない”という学内情報部門の方針転換と，VMマシンの老朽化からの決断です．
”サーバ構築できる技術者が育たない！”と一人息巻いておりましたが時代の流れには逆らえません．
新しいサーバ環境も同じようにCMSで考えていましたが，GitHub Pages＋無料テンプレート利用という形に落ち着きました．
まだ変更があるかもしれませんが，今後ともよろしくお願いいたします．
</p>
<p>　以下は，これまでの歴史を振り返ってみました．</p>

<h2>サーバ略歴</h2>
<p>
<table class="ta2">
<tr>
<th>1996年8月</th>
<th><figure><img src="./top_old.png" alt=""></figure></th>
<td>SPARCstation(Solaris2.4)にてサービス開始．<br>
	サーバ構築技術の勉強を兼ねて始めたと記憶しています．<br>
	マシンはその後 NEC PC-9801シリーズやDOS/V機へと変わっています．OSはFreeBSDです．<br>
	（基本的にメインで使うデスクトップPCのお下がりをサーバ機に流用していた）
</td>
</tr>
<tr>
<th>2002年9月</th>
<th><figure><img src="./f-board.png" alt=""></figure></th>
<td>f-boardによるサポート掲示板の運用開始．<br>
	NCVCを公開すると結構な反響をいただき，連日のように質問メールが飛んできて対応に苦慮していました．
	公開掲示板を導入することで対応がすごくラクになりましたし，
	新しいアイデアも公開の場で議論することができるようになりました．
</td>
</tr>
<tr>
<th>2012年6月</th>
<th><figure><img src="./xoops_top.png" alt=""></figure></th>
<td>XOOPS導入．<br>
	SambaでマウントしてHTMLをチマチマと編集していましたが限界を感じ，CMS導入を決意．
	数ある中からXOOPS（ズープス）を選択しました．
</td>
</tr>
</table>
</p>
<h2>アクセスログの解析</h2>
<p>　サーバ環境は時代と共に変化していきましたがデータは常に引き継ぎ，気が付けば25年分のアクセスログが蓄積されています．
少しだけ解析したものを紹介します．
</p>
<div align="center"><figure><img src="./log.png" width="50%"></figure></div><p></p>
<h3>年別のアクセスホスト件数</h3>
<p>　年ごとに<br>
<span class="look">cat httpd.* | grep -v "僕のページ以外のサービス" | cut -d" " -f1 | sort | uniq > 2020.log</span>　とし，<br>
<span class="look">cat 2020.log | wc</span>　で全体件数のカウントと，<br>
<span class="look">cat 2020.log | grep '.jp' | wc</span>　で .jp の件数をカウントし，グラフ化したものが下の図です．</p>
<p>　uniq コマンドで重複を避けてカウントしていますので，縦軸の件数は純粋なインターネット上のアクセスホスト数を表しますが，
pc01.hoge.jp と pc02.hoge.jp は別でカウントされるので，残念ながら組織の数ではありません．</p>
<p>　jp以外，つまり海外からのいたずらアクセスが多いように感じますが，日本のホストでも .com や .net のドメインがありますし，
そもそもDNSに登録されていないIPアドレスでのアクセスもjp以外に含まれるため（ProxyサーバはDNSに登録されていないものが多い），このような結果になっています．
ざっくりした感触では 1/3 が海外からのいたずらで 2/3 は日本国内のjp以外のホストという感じです．</p>
<p>　その他，細かなところで言うと
<ul class="disc">
<li>2003年の突出したアクセス数は f-board の脆弱性によるもの<br>いい掲示板システムでしたけどねぇ</li>
<li>2007年と2017年の本の出版はアクセス数に影響しなかった<br>ショックｗｗ　新規ユーザではなく既知ユーザで買っていただけたのかな？</li>
</ul>
</p>
<p>
<div align="center"><figure><img src="./graph01.png"></figure></div>
</p>
<p></p>
<h3>2020年の詳細</h3>
<p>　2020年の総アクセスホストは45,803件ありました．うち .jp は12,085件で，それ以外が33,718件でした．
本来ならIPアドレスでのアクセス（.jp以外）も調査すべきですが，時間がかかりすぎるのでとりあえず .jp でヒットした分だけでドメインを分けてみました．</p>
<p>　その結果，圧倒的にプロバイダ系のドメインが多く，個人またはプロバイダ接続の小規模事業者様からのアクセスが多いことがわかります．
他の年度も調べましたがほぼ同じ傾向でした．</p>
<p>　比率は低いですが，アカデミックで265校，企業で176社と，件数で見るとなかなかの数字ではないかなと思います．
上でも書きましたが実際はもう少し少ないはずですけどねｗｗ
</p>
<p>
<div align="center"><figure><img src="./graph02.png"></figure></div>
</p>
<p>　さらに高専に限定して調査したところ，全国の高専からアクセスがあったことが判明しました．高専に限れば全国制覇です！<br>
大学は数が多いので調べるのは大変ですが，<br>
　<strong>ac.jp 265件 － 全国57高専（公立・私立含む） ＝ 208件</strong><br>
が大学またはそれに準ずる機関からのアクセスだと推測されます．
2020年4月時点の日本の大学数は781校らしいですが，理系の大学数はわかりませんでした．
文系を含めて27%と考えると，これもまぁまぁすごい数字なのかもしれません．
</p>
<p>　ついでに co.jp も見てみましたが，世界的に有名な企業のドメインからもアクセスがあり，めっちゃビビってますｗｗ
アクセスがあったというだけで，実際に使われているかどうかは知りませんけど．
</p>
<p></p>
<p>　総合的にざっくり計算すると，<br>
	　<strong>.jp 12,085件 ＋ .jp以外33,718件 × 2/3 ＝ 34,563人</strong><br>
</p>
<p>ということで　<strong class="color1">いちおうそれなりに社会貢献できてる</strong>　かな？　お粗末様でした．</p>
</section>

<p><a href="javascript:history.back()">&lt;&lt; 前のページに戻る</a></p>

</div>
<!--/#contents-->

<footer>
<!--
<div id="footermenu">
<ul>
<li class="title">タイトル</li>
<li><a href="#">メニューサンプルメニューサンプル</a></li>
<li><a href="#">メニューサンプルメニューサンプル</a></li>
<li><a href="#">メニューサンプルメニューサンプル</a></li>
<li><a href="#">メニューサンプルメニューサンプル</a></li>
<li><a href="#">メニューサンプルメニューサンプル</a></li>
</ul>
<ul>
<li class="title">タイトル</li>
<li><a href="#">メニューサンプルメニューサンプル</a></li>
<li><a href="#">メニューサンプルメニューサンプル</a></li>
<li><a href="#">メニューサンプルメニューサンプル</a></li>
<li><a href="#">メニューサンプルメニューサンプル</a></li>
<li><a href="#">メニューサンプルメニューサンプル</a></li>
</ul>
<ul>
<li class="title">タイトル</li>
<li><a href="#">メニューサンプルメニューサンプル</a></li>
<li><a href="#">メニューサンプルメニューサンプル</a></li>
<li><a href="#">メニューサンプルメニューサンプル</a></li>
<li><a href="#">メニューサンプルメニューサンプル</a></li>
<li><a href="#">メニューサンプルメニューサンプル</a></li>
</ul>
<ul>
<li class="title">タイトル</li>
<li><a href="#">メニューサンプルメニューサンプル</a></li>
<li><a href="#">メニューサンプルメニューサンプル</a></li>
<li><a href="#">メニューサンプルメニューサンプル</a></li>
<li><a href="#">メニューサンプルメニューサンプル</a></li>
<li><a href="#">メニューサンプルメニューサンプル</a></li>
</ul>
</div>
-->
<!--/#footermenu-->

<div id="copyright">
<small>Copyright&copy; K.Magara, <a href="https://www.maizuru-ct.ac.jp/" target="_blank">NIT(KOSEN) Maizuru College.</a> All Rights Reserved.</small>
<span class="pr"><a href="https://template-party.com/" target="_blank">《Web Design:Template-Party》</a></span>
</div>
<!--/#copyright-->

</footer>

<!--ページの上部に戻る「↑」ボタン-->
<p class="nav-fix-pos-pagetop"><a href="#">↑</a></p>

<!--メニュー開閉ボタン-->
<div id="menubar_hdr" class="close"></div>

<!--メニューの開閉処理条件設定　900px以下-->
<script>
if (OCwindowWidth() <= 900) {
	open_close("menubar_hdr", "menubar-s");
}
</script>

<!--子メニュー-->
<script>
if (OCwindowWidth() <= 900) {
	open_close("menubar_hdr2", "menubar-s2");
}
</script>

</body>
</html>
